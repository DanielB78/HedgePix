<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HedgePix</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      background-color: #0f172a;
      color: #e2e8f0;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "SF Pro Display", Roboto, Helvetica, Arial, sans-serif;
    }
  </style>
</head>

<body class="min-h-screen flex flex-col">

  <!-- Navigation Bar -->
  <nav class="bg-slate-900/70 backdrop-blur-md border-b border-slate-800 px-8 py-3 flex gap-6 text-sm font-semibold">
    <button id="tab-home" onclick="showTab('home')" class="text-slate-300 hover:text-white">Home</button>
    <button id="tab-rankings" onclick="showTab('rankings')" class="text-slate-300 hover:text-white">Rankings</button>
    <button id="tab-news" onclick="showTab('news')" class="text-slate-300 hover:text-white">News</button>
    <button id="tab-info" onclick="showTab('info')" class="text-slate-300 hover:text-white">Information</button>
  </nav>

  <!-- HOME TAB -->
  <section id="home" class="p-10">
    <h1 class="text-4xl font-bold text-emerald-300 mb-4">Welcome to HedgePix</h1>
    <p class="max-w-2xl text-slate-300 text-sm leading-relaxed">
      HedgePix provides machine-learning–driven daily stock rankings based on forward-looking
      return probability. The model is trained on historical price action, volatility structure,
      cross-sectional factors, and market microstructure data.
      <br><br>
      Each day, the model outputs a rank for every stock in your universe. A lower rank (1 = best)
      indicates stronger expected performance over the next few weeks.
      <br><br>
      Navigate to the Rankings tab to explore live rankings, 1-week historical rank changes,
      predicted next-week rank movement, and interactive charts.
    </p>
  </section>

  <!-- RANKINGS TAB -->
  <section id="rankings" class="hidden p-6 flex flex-col gap-6">

    <!-- Header Section -->
    <div class="bg-slate-900/60 p-5 rounded-xl border border-slate-800">
      <h2 class="text-xl font-semibold tracking-tight text-emerald-300">Daily Model Rankings</h2>
      <p class="text-xs text-slate-400 mt-1 leading-relaxed">
        HedgePix shows a daily cross-sectional ranking of the stocks in your universe. Ranks are
        generated by a machine-learning model trained on historical market data and represent the
        model’s view of expected performance over roughly the next few weeks. Lower ranks (1 = best)
        are more favourable. The “1w change” and “Next 1w (pred)” columns show how the rank has moved
        over the past week and where the model expects it to move over the coming week.
      </p>

      <div class="mt-4 flex items-center gap-6">
        <div class="flex items-center gap-2">
          <label class="text-xs text-slate-400">Top N:</label>
          <select id="rankLimit" class="bg-slate-800 text-slate-200 text-xs px-2 py-1 rounded-md border border-slate-700">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="50">50</option>
            <option value="9999">All</option>
          </select>
        </div>

        <div class="flex items-center gap-2">
          <span class="text-xs text-slate-400">As of:</span>
          <span id="selectedDate" class="text-xs text-slate-300"></span>
        </div>
      </div>
    </div>

    <!-- Main Rankings Layout -->
    <div class="flex flex-col lg:flex-row gap-6">

      <!-- Table -->
      <div class="flex-1 bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden">
        <div class="overflow-auto max-h-[70vh]">
          <table class="w-full text-left">
            <thead class="bg-slate-900/80 sticky top-0 z-10">
              <tr>
                <th class="px-3 py-2 text-xs font-semibold text-slate-400">Rank</th>
                <th class="px-3 py-2 text-xs font-semibold text-emerald-300">Ticker</th>
                <th class="px-3 py-2 text-xs font-semibold text-slate-400">1w Change</th>
                <th class="px-3 py-2 text-xs font-semibold text-slate-400">Next 1w (Pred)</th>
              </tr>
            </thead>
            <tbody id="tableBody" class="text-xs"></tbody>
          </table>
        </div>
      </div>

      <!-- Chart Panel -->
      <div id="detailPanel" class="flex-1 bg-slate-900/50 rounded-xl border border-slate-800 p-4 overflow-auto">
        <h3 class="text-sm font-semibold text-emerald-300 mb-3">Historical Ranking (3 Months)</h3>
        <p class="text-slate-400 text-xs mb-2">
          Click one or more tickers in the table to add/remove them from the chart.
        </p>

        <div class="h-72 w-full">
          <canvas id="rankChart"></canvas>
        </div>
      </div>

    </div>
  </section>

  <!-- NEWS TAB -->
  <section id="news" class="hidden p-10">
    <h1 class="text-3xl font-bold text-emerald-300 mb-2">News</h1>
    <p class="text-slate-400 text-sm">Coming soon…</p>
  </section>

  <!-- INFO TAB -->
  <section id="info" class="hidden p-10">
    <h1 class="text-3xl font-bold text-emerald-300 mb-2">Information</h1>
    <p class="text-slate-400 text-sm">Coming soon…</p>
  </section>

  <!-- Script -->
  <script src="script.js"></script>

</body>
</html>
